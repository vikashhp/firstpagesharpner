<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async Await</title>
    <style>
        h1{
            text-align: center;
            color:blueviolet
        }
    </style>
</head>
<body>
    <h1>Async_Await</h1>
</body>
</html>
<script>
    //Async_Await

    // console.log('Person1 : Shows Ticket');
    // console.log('Person2 : Shows Ticket');
    // const wbt=new Promise((resolve,reject)=>{
    //     setTimeout(()=>{
    //      resolve('Bring Ticket')
    //     },3000)
    // })

    // const getPopcorn=wbt.then((t)=>{
    //     console.log('Husband: we should go in');
    //     console.log('Wife:No,I am hungry');
    //     return new Promise((reslove,reject)=>{
    //         reslove(`${t}:Popcorn`)
    //     })
    // })
    
    // getPopcorn.then((t)=>{
    //    console.log(t)
    // })

    // const getbutter=getPopcorn.then((t)=>{
    //    console.log('Husband:I got some popcorn');
    //    console.log('Husband: we should go in');
    //    console.log('Wife:I need butter in my popcorn')
    //    return new Promise((resolve,reject)=>{
    //     resolve(`${t}:butter`)
    //    })
    // })

    // getbutter.then((t)=>{
    //     console.log(t)
    // })



    // wbt.then((t)=>{
    //     console.log(`Person 3:shows ${t}`)
    // })



    // console.log('Person4 : Shows Ticket');
    // console.log('Person5 : Shows Ticket');


    // Now comes async await

    //  console.log('Person1 : Shows Ticket');
    // console.log('Person2 : Shows Ticket');

    // const premovie=async ()=> {
      
    //     const wbt=new Promise((resolve,reject)=>{
    //         setTimeout(()=>{
    //          resolve('Ticket')
    //         },3000)
    //     })

    //     const getPopcorn=new Promise((resolve,reject)=>{
    //         resolve('Popcorn')
    //     })

    //     const getbutter=new Promise((resolve,reject)=>{
    //         resolve('Butter')
    //     })

    //     let ticket=await wbt;

    //     console.log(`Wife: I have the ${ticket}`);
    //     console.log('Husband: we should go in');
    //     console.log('Wife:No I am hungry');

    //     let popcorn=await getPopcorn;

    //     console.log(`Wife: I have the ${popcorn}`);
    //     console.log('Husband: we should go in');
    //     console.log('Wife: I need butter on my popcorn');

    //     let butter=await getbutter;

    //     console.log(`Husband: I got some ${butter} on popcorn`);
    //     console.log('Husband: Anything else darling ?');
    //     console.log('Wife: lets go we are getting late');
    //     console.log('Husband: thankyou')

    //     return ticket

    // }

    // premovie().then((m)=>{
    //     console.log(m)
    // })

    // console.log('Person4 : Shows Ticket');
    // console.log('Person5 : Shows Ticket');

      const posts=[{title:'Post1'}]



     const createposts=async ()=> {
           
        const create1stpost=new Promise((resolve,reject)=>{
            setTimeout(()=>{
            reject('Pushed 1st post')
            },5000)
        })

       let post1

       try{
        post1=await create1stpost;
       }catch{
            post1='sad face'
       }
        

       const create2ndpost=new Promise((resolve,reject)=>{
        setTimeout(()=>{
          resolve('Pushed 2nd post')
        },3000)
       })

       let post2

       try{
        post2= await create2ndpost
       }catch{
         post2='Not posted'
       }

       console.log(post2)



    //    const create3rdpost=new Promise((resolve,reject)=>{
    //     setTimeout(()=>{
    //      resolve('Pushed 3rd post')
    //     },4000)
    //    })

    //    let post3=await create3rdpost;

    //    console.log(post3)


    //    let [pos1,pos2,pos3]= await Promise.all([post1,post2,post3]);

    //    console.log(pos1,pos2,pos3)




        console.log(post1)
        return post1
    
       

     }

  createposts().then((m)=>{
    console.log(m)
  })




    

</script>